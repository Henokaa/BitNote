{"ast":null,"code":"'use strict';\n\nvar util = require('util');\n\nvar onExit = require('signal-exit');\n\nvar currentlyUnhandled = require('currently-unhandled');\n\nvar installed = false;\n\nmodule.exports = function (log) {\n  if (installed) {\n    return;\n  }\n\n  installed = true;\n  log = log || console.error;\n  var listUnhandled = currentlyUnhandled();\n  onExit(function () {\n    var unhandledRejections = listUnhandled();\n\n    if (unhandledRejections.length > 0) {\n      unhandledRejections.forEach(function (x) {\n        var err = x.reason;\n\n        if (!(err instanceof Error)) {\n          err = new Error('Promise rejected with value: ' + util.inspect(err));\n        }\n\n        log(err.stack);\n      });\n      process.exitCode = 1;\n    }\n  });\n};","map":{"version":3,"sources":["C:/Users/henok/Documents/GitHub/BitNote/node_modules/loud-rejection/index.js"],"names":["util","require","onExit","currentlyUnhandled","installed","module","exports","log","console","error","listUnhandled","unhandledRejections","length","forEach","x","err","reason","Error","inspect","stack","process","exitCode"],"mappings":"AAAA;;AACA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,MAAM,GAAGD,OAAO,CAAC,aAAD,CAApB;;AACA,IAAIE,kBAAkB,GAAGF,OAAO,CAAC,qBAAD,CAAhC;;AAEA,IAAIG,SAAS,GAAG,KAAhB;;AAEAC,MAAM,CAACC,OAAP,GAAiB,UAAUC,GAAV,EAAe;AAC/B,MAAIH,SAAJ,EAAe;AACd;AACA;;AAEDA,EAAAA,SAAS,GAAG,IAAZ;AAEAG,EAAAA,GAAG,GAAGA,GAAG,IAAIC,OAAO,CAACC,KAArB;AAEA,MAAIC,aAAa,GAAGP,kBAAkB,EAAtC;AAEAD,EAAAA,MAAM,CAAC,YAAY;AAClB,QAAIS,mBAAmB,GAAGD,aAAa,EAAvC;;AAEA,QAAIC,mBAAmB,CAACC,MAApB,GAA6B,CAAjC,EAAoC;AACnCD,MAAAA,mBAAmB,CAACE,OAApB,CAA4B,UAAUC,CAAV,EAAa;AACxC,YAAIC,GAAG,GAAGD,CAAC,CAACE,MAAZ;;AAEA,YAAI,EAAED,GAAG,YAAYE,KAAjB,CAAJ,EAA6B;AAC5BF,UAAAA,GAAG,GAAG,IAAIE,KAAJ,CAAU,kCAAkCjB,IAAI,CAACkB,OAAL,CAAaH,GAAb,CAA5C,CAAN;AACA;;AAEDR,QAAAA,GAAG,CAACQ,GAAG,CAACI,KAAL,CAAH;AACA,OARD;AAUAC,MAAAA,OAAO,CAACC,QAAR,GAAmB,CAAnB;AACA;AACD,GAhBK,CAAN;AAiBA,CA5BD","sourcesContent":["'use strict';\r\nvar util = require('util');\r\nvar onExit = require('signal-exit');\r\nvar currentlyUnhandled = require('currently-unhandled');\r\n\r\nvar installed = false;\r\n\r\nmodule.exports = function (log) {\r\n\tif (installed) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tinstalled = true;\r\n\r\n\tlog = log || console.error;\r\n\r\n\tvar listUnhandled = currentlyUnhandled();\r\n\r\n\tonExit(function () {\r\n\t\tvar unhandledRejections = listUnhandled();\r\n\r\n\t\tif (unhandledRejections.length > 0) {\r\n\t\t\tunhandledRejections.forEach(function (x) {\r\n\t\t\t\tvar err = x.reason;\r\n\r\n\t\t\t\tif (!(err instanceof Error)) {\r\n\t\t\t\t\terr = new Error('Promise rejected with value: ' + util.inspect(err));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlog(err.stack);\r\n\t\t\t});\r\n\r\n\t\t\tprocess.exitCode = 1;\r\n\t\t}\r\n\t});\r\n};\r\n"]},"metadata":{},"sourceType":"script"}